<!-- Water Design? Have landing page like a lake and it ripples-->
<!-- Space Design? Astronaut follow mouse or turn around planet-->
<!-- Indie kind of background-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">  
  <title>Datathon 2021</title>
  <link rel="icon" href="assets/tab favicon.png">
  <meta name="description" content="Datathon Website">
  <meta name="author" content="SitePoint">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css"> 
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato:300,700|Prata" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet">
</head>
<body>
  <nav id='navigation' class="navbar navbar-expand-lg navbar-light navbar-custom fixed-top">
    <div class="container" >
      <a class="navbar-brand" href="#" id='nav-home'>Datathon 2021</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="#" id = 'nav-about-me'></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" id = 'nav-information'>Background Information</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" id='nav-agency'>Agencies</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" id='nav-vendor'>Vendors</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" id='nav-method'>Advanced Methodology</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" id='nav-search'>Search</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  
  <header>
   
    <h1 class="ml16" id='intro' style='font-size: 30px;'>Grouping Clients & Vendors Through Hierarchical Clustering</h1>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <span id='down'>&#8595;</span>
  </header>
  <div id ='back'>
  <section id='information' style= 'padding-top:0px;'>
    <div class='row'>
      <div class='col-lg-4'></div>
    </div>
    <div class="container" style='height: 100vh;'>
      <h1 style="text-align:center">Background Information</h1>
      <hr style = "border: 1px solid darkblue;">
      <div class='row'>
        <div class="col-lg-1"></div> 
        <div class="col-lg-10">
          <br>
          <p style='font-size: 18px;'>
            
          </p>      
          <p style='font-size: 18px;'>
            We were driven to start this project by the Bill.com Challenge in the Rice
Datathon. For this challenge, we were given a data set with over 430,000 transactions made by
government agencies in the Washington D.C. area. These purchases included information about
which agency was making the transaction and for how much, what vendor they were making
the transaction with, and it classified the vendor into various different categories of
transactions. We wanted to understand the connectedness of the network by identifying
similar businesses (or agencies) and similar vendors. We defined the metric for similarity using
the top 5 most used vendors and top 3 most used categories (based on number of
transactions), as well as the net total transaction value for each year. We also grouped the most
used vendors together using the top 5 most transacted with agencies and the net total
transaction value for each year.
          </p>
          <p style='font-size: 18px;'>
            We used this data and clustering techniques written in R to group the vendors and
            agencies together in clusters. After doing so, we looked at agencies in a cluster and the vendors
            that those clusters did business with the most and recommended those vendors to the
            businesses.
          </p>
          <p style='font-size: 18px;'>
            We believe that this information can be beneficial for both the agencies and the
            vendors. On the agencies side, this can be used to save the agencies, and as a result the
            taxpayer, money as they can more easily find vendors to do business within fields that they may
            need to business. On the vendors side, this can help businesses, especially small businesses,
            grow cliental and build their business through existing connections in the government.</p>
        </div> 
      
        
      </div>
    </div>
  </section>

  <section id = 'agency'>
    <div class='container' >
      <!-- Grid lay out experience-->
      <h1 style="text-align:center">Agency Findings </h1>
      <hr style = "border: 1px solid darkblue;">
      <div class = 'row'>
        <div class = 'col-lg-1'></div>
          <div class="col-lg-10">
          <p style='font-size: 18px;'>
            The dendrogram shown below shows all the agencies and their connections to
each other ranked by the metrics laid out above, namely the top 5 most used vendors and top 3
most used categories based on the number of transactions, and the net total transaction value
for each year.
</p>
        </div> 
      </div>
      <div class = 'container'>
        <div class='row'>
          <div class="col-lg-1"></div> 
          <div class="holder">
            <a href = "https://raw.githubusercontent.com/JonathanSheng/DataWeb.github.io/master/assets/agency_dendrogram.jpg" target = "_blank">
              <img src = "assets/agency_dendrogram.jpg">
              </a>
          </div>
      </div>
                  </div>
                  
          </div>
      </div>
    </div>
</section>

<section id = 'vendor'>
  <h1 style=  "text-align:center">Vendor Findings</h1>
  <hr style = "border: 1px solid darkblue;">
  <br>
  <div class='container'>
    <div class = 'row'>
        <div class = 'col-lg-1'></div>
          <div class="col-lg-10">
          <p style='font-size: 18px;'>
            The dendrogram shown below shows the top 56 vendors, which while only
representing .001% of the total vendors, make up 35% of the total transactions. These vendors
were clustered using the metrics laid out above, namely the top 5 most transacted with
agencies and the net total transaction value for each year.
          </p>
        </div> 
      </div>
    <div class='row'>
        <div class="col-lg-1"></div> 
        <div class="holder">
          <a href = "https://raw.githubusercontent.com/JonathanSheng/DataWeb.github.io/master/assets/vendor_dendrogram.jpg" target = "_blank">
            <img src = "assets/vendor_dendrogram.jpg">
        </a>
        </div>
    </div>
  </div>    
</section>

<section id = 'method'>
    <div class='container' >
      <!-- Grid lay out experience-->
      <h1 style="text-align:center">Advanced Methodology </h1>
      <hr style = "border: 1px solid darkblue;">
      <div class = 'row'>
        <div class = 'col-lg-1'></div>
          <div class="col-lg-10">
            <p style='font-size: 18px;'>
              Our task was to understand connectedness of the network and to apply that understanding to recommend vendors to business. We felt that clustering was the best, most efficient, and most interpretable way to understand the interconnection between these government agencies and the vendors they do business with. However, there are multiple clustering algorithms, mainly k-means clustering and hierarchical clustering. For the purposes of this question, we felt like k-means clustering wasn’t a good fit - since we don’t know the number of clusters we would want beforehand, it wouldn’t be a good idea to use the k-means algorithm, since it may have unintended results due to a bad choice for k. Hierarchical clustering, on the other hand, was perfect for our needs - it even provides us with a dendrogram, which is a data visualization that allows us to inspect which agencies and vendors are more alike.

            </p>
            <p style='font-size: 18px;'>
              Choosing hierarchical clustering was just the beginning of our methods. Typically, clustering is performed with numerical variables. This is because in order to determine which observations are ‘more similar’ to one another, the clustering algorithm essentially plots the observations in n-dimensional space (where n is the number of variables) and finds the distance between observations. Distance is normally calculated by taking the Euclidean distance between each point (L-2 norm). Obviously, we cannot use Euclidean distance when categorical variables are present, so we needed to find an alternative way to calculate the distance. Therefore, instead of Euclidean distance, we use Gower’s distance, which is a distance measure used to calculate distance between entities with categorical and numerical attributes.

            </p>
            <p style='font-size: 18px;'>
              Once the data has been cleaned, the type of clustering has been decided upon, the data has been normalized, and the distance matrix has been calculated, we need to choose a type of linkage. “Linkage” is a term that refers to how we connect groups to one another. It is easy to connect the two individual observations that have the most in common, but in order to connect groups consisting of multiple observations, more decisions are needed. In our case, we chose a method of linkage called ‘complete linkage’. Complete linkage merges groups based on their members that are the furthest apart - complete linkage heavily avoids having groups with very dissimilar observations, which is why we felt it was best for our purposes.

            </p>
            <p style='font-size: 18px;'>
              Finally, our data has been clustered. However, because we chose hierarchical clustering, we still need to decide how many clusters we want. Hierarchical clustering doesn’t begin with a set number of clusters in mind like k-means, but rather displays the interdependencies of the observations and lets the data scientist choose which number of clusters fits the data the best. In the case of our data, we felt that 20 clusters made the most sense, since the cluster sizes are large enough for good interpretation, but not too large that agencies were being unnecessarily grouped together.

            </p>

        </div> 
      </div>
    </div>

    <section id = 'search'>
        <div class='container' >
          <!-- Grid lay out experience-->
          <h1 style="text-align:center">Search Function </h1>
          <hr style = "border: 1px solid darkblue;">
          <div class = 'row' style = 'justify-content: center;'>
            <iframe src="https://zach-rewolinski.shinyapps.io/agency_information/" height = 400px width = 400px allow="fullscreen"></iframe>
          </div>
        </div>


<!--JQuery to scroll to div-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
window.onbeforeunload = function () {
  window.scrollTo(0, 0);
}
  $("#nav-home").click(function() {
  $("html, body").animate({ scrollTop: 0 }, "slow");
});
	$(document).ready( function () {
	$('#nav-information').on('click',function () {
		 $('html, body').animate({
        scrollTop: $("#information").offset().top
    }, 1000);
	});
  $('#nav-agency').on('click',function () {
		 $('html, body').animate({
        scrollTop: $("#agency").offset().top
    }, 1000);
	});
  $('#nav-vendor').on('click',function () {
		 $('html, body').animate({
        scrollTop: $("#vendor").offset().top
    }, 1000);
	});
    $('#nav-search').on('click',function () {
		 $('html, body').animate({
        scrollTop: $("#search").offset().top
    }, 1000);
	});
    $('#nav-method').on('click',function () {
		 $('html, body').animate({
        scrollTop: $("#method").offset().top
    }, 1000);
	});
  $('#down').on('click',function () {
		 $('html, body').animate({
        scrollTop: $("#information").offset().top
    }, 1000);
	});
    
  $(function () {
  $(document).scroll(function () {
    var $nav = $(".navbar-fixed-top");
    $nav.toggleClass('scrolled', $(this).scrollTop() > $nav.height());
  });
});
$(window).scroll(function(){
  var $win = $(window);
  var winH = $win.height();
	$('#navigation').toggleClass('scrolled', $(this).scrollTop() > winH);
});

//Test Code
// Wrap every letter in a span
var textWrapper = document.querySelector('.ml16');
textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

anime.timeline()

.add({
    targets: '.ml16 .letter',
    translateY: [-100,0],
    easing: "easeOutExpo",
    delay: (el, i) => 30 * i
  })

});

function imageZoom(imgID, resultID) {
  var img, lens, result, cx, cy;
  img = document.getElementById(imgID);
  result = document.getElementById(resultID);
  /* Create lens: */
  lens = document.createElement("DIV");
  lens.setAttribute("class", "img-zoom-lens");
  /* Insert lens: */
  img.parentElement.insertBefore(lens, img);
  /* Calculate the ratio between result DIV and lens: */
  cx = result.offsetWidth / lens.offsetWidth;
  cy = result.offsetHeight / lens.offsetHeight;
  /* Set background properties for the result DIV */
  result.style.backgroundImage = "url('" + img.src + "')";
  result.style.backgroundSize = (img.width * cx) + "px " + (img.height * cy) + "px";
  /* Execute a function when someone moves the cursor over the image, or the lens: */
  lens.addEventListener("mousemove", moveLens);
  img.addEventListener("mousemove", moveLens);
  /* And also for touch screens: */
  lens.addEventListener("touchmove", moveLens);
  img.addEventListener("touchmove", moveLens);
  function moveLens(e) {
    var pos, x, y;
    /* Prevent any other actions that may occur when moving over the image */
    e.preventDefault();
    /* Get the cursor's x and y positions: */
    pos = getCursorPos(e);
    /* Calculate the position of the lens: */
    x = pos.x - (lens.offsetWidth / 2);
    y = pos.y - (lens.offsetHeight / 2);
    /* Prevent the lens from being positioned outside the image: */
    if (x > img.width - lens.offsetWidth) {x = img.width - lens.offsetWidth;}
    if (x < 0) {x = 0;}
    if (y > img.height - lens.offsetHeight) {y = img.height - lens.offsetHeight;}
    if (y < 0) {y = 0;}
    /* Set the position of the lens: */
    lens.style.left = x + "px";
    lens.style.top = y + "px";
    /* Display what the lens "sees": */
    result.style.backgroundPosition = "-" + (x * cx) + "px -" + (y * cy) + "px";
  }
  function getCursorPos(e) {
    var a, x = 0, y = 0;
    e = e || window.event;
    /* Get the x and y positions of the image: */
    a = img.getBoundingClientRect();
    /* Calculate the cursor's x and y coordinates, relative to the image: */
    x = e.pageX - a.left;
    y = e.pageY - a.top;
    /* Consider any page scrolling: */
    x = x - window.pageXOffset;
    y = y - window.pageYOffset;
    return {x : x, y : y};
  }
}
imageZoom("myimage", "myresult");
</script>
</body>
</html>